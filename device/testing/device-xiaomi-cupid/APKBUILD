# Maintainer: Jens Reidel <adrian@travitia.xyz>
# Reference: <https://postmarketos.org/devicepkg>
pkgname=device-xiaomi-cupid
pkgdesc="Xiaomi 12"
pkgver=1
pkgrel=0
url="https://postmarketos.org"
license="MIT"
arch="aarch64"
options="!check !archcheck"
depends="
	firmware-xiaomi-cupid-adsp
	firmware-xiaomi-cupid-cdsp
	firmware-xiaomi-cupid-gpu
	firmware-xiaomi-cupid-initramfs
	firmware-xiaomi-cupid-ipa
	firmware-xiaomi-cupid-modem
	firmware-xiaomi-cupid-slpi
	linux-firmware-ath11k
	linux-firmware-qca
	linux-firmware-qcom
	linux-postmarketos-qcom-sm8450
	make-dynpart-mappings
	mkbootimg
	msm-modem
	msm-modem-uim-selection
	postmarketos-base
	qbootctl
	qbootctl-openrc
	tqftpserv
"
makedepends="
	devicepkg-dev
"
install="$pkgname.post-install $pkgname.post-upgrade"
source="
	deviceinfo
	modules-initfs
"

build() {
	devicepkg_build $startdir $pkgname
}

package() {
	devicepkg_package $startdir $pkgname
}

sha512sums="
af99d8d1c08e7d73553fe554ea4d76cd86b59e122497c85d6dba492d6795ca2e9008a228bc4c04c30e0f1e4a2167a6a8829a9d844e5203ec6e776c254c17ef28  deviceinfo
6d3d9d7946f081f71d169b1684f53d64f438f02b3840faaaa1b8e2ee1c63fe7c514360a071db1f988a68c712d5ae8eab7204bed371ab7d8f27d8a299a71d3bb0  modules-initfs
"
